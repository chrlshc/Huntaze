{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Amplify Environment Variables Validation Schema",
  "type": "object",
  "properties": {
    "DATABASE_URL": {
      "type": "string",
      "pattern": "^postgresql://[^:]+:[^@]+@[^:]+:[0-9]+/[^/]+$",
      "description": "PostgreSQL connection string"
    },
    "DATABASE_SSL": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable SSL for database connection"
    },
    "DATABASE_POOL_SIZE": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Database connection pool size"
    },
    "JWT_SECRET": {
      "type": "string",
      "minLength": 32,
      "description": "JWT secret key (minimum 32 characters)"
    },
    "JWT_EXPIRES_IN": {
      "type": "string",
      "pattern": "^[0-9]+[dhms]$",
      "description": "JWT expiration time (e.g., 7d, 24h, 60m)"
    },
    "NEXTAUTH_SECRET": {
      "type": "string",
      "minLength": 16,
      "description": "NextAuth secret key"
    },
    "NEXTAUTH_URL": {
      "type": "string",
      "format": "uri",
      "description": "NextAuth URL"
    },
    "OPENAI_API_KEY": {
      "type": "string",
      "pattern": "^(sk-[A-Za-z0-9]{48}|)$",
      "description": "OpenAI API key (starts with sk-) or empty"
    },
    "AZURE_OPENAI_API_KEY": {
      "type": "string",
      "description": "Azure OpenAI API key"
    },
    "AZURE_OPENAI_ENDPOINT": {
      "type": "string",
      "format": "uri",
      "description": "Azure OpenAI endpoint URL"
    },
    "AZURE_OPENAI_API_VERSION": {
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}(-preview)?$",
      "description": "Azure OpenAI API version"
    },
    "TIKTOK_CLIENT_ID": {
      "type": "string",
      "minLength": 1,
      "description": "TikTok client ID"
    },
    "TIKTOK_CLIENT_SECRET": {
      "type": "string",
      "minLength": 1,
      "description": "TikTok client secret"
    },
    "INSTAGRAM_CLIENT_ID": {
      "type": "string",
      "minLength": 1,
      "description": "Instagram client ID"
    },
    "INSTAGRAM_CLIENT_SECRET": {
      "type": "string",
      "minLength": 1,
      "description": "Instagram client secret"
    },
    "REDDIT_CLIENT_ID": {
      "type": "string",
      "minLength": 1,
      "description": "Reddit client ID"
    },
    "REDDIT_CLIENT_SECRET": {
      "type": "string",
      "minLength": 1,
      "description": "Reddit client secret"
    },
    "SMTP_HOST": {
      "type": "string",
      "description": "SMTP server hostname"
    },
    "SMTP_PORT": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "SMTP server port"
    },
    "SMTP_USER": {
      "type": "string",
      "description": "SMTP username"
    },
    "SMTP_PASS": {
      "type": "string",
      "description": "SMTP password"
    },
    "FROM_EMAIL": {
      "type": "string",
      "format": "email",
      "description": "From email address"
    },
    "NODE_ENV": {
      "type": "string",
      "enum": ["development", "production", "test"],
      "description": "Node.js environment"
    },
    "APP_URL": {
      "type": "string",
      "format": "uri",
      "description": "Application URL"
    },
    "API_URL": {
      "type": "string",
      "format": "uri",
      "description": "API URL"
    },
    "FRONTEND_URL": {
      "type": "string",
      "format": "uri",
      "description": "Frontend URL"
    },
    "SENTRY_DSN": {
      "type": "string",
      "description": "Sentry DSN for error tracking"
    },
    "ANALYTICS_ID": {
      "type": "string",
      "description": "Analytics tracking ID"
    },
    "LOG_LEVEL": {
      "type": "string",
      "enum": ["error", "warn", "info", "debug"],
      "description": "Logging level"
    },
    "ENABLE_ANALYTICS": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable analytics tracking"
    },
    "ENABLE_SOCIAL_INTEGRATIONS": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable social media integrations"
    },
    "ENABLE_AI_FEATURES": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable AI features"
    },
    "ENABLE_MONITORING": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable monitoring"
    },
    "REDIS_URL": {
      "type": "string",
      "pattern": "^redis://[^:]+:[0-9]+$",
      "description": "Redis connection URL"
    },
    "CACHE_TTL": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Cache TTL in seconds"
    },
    "MAX_UPLOAD_SIZE": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Maximum upload size in bytes"
    },
    "CORS_ORIGIN": {
      "type": "string",
      "description": "CORS origin (URL or *)"
    },
    "RATE_LIMIT_MAX": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Rate limit maximum requests"
    },
    "RATE_LIMIT_WINDOW": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Rate limit window in milliseconds"
    }
  },
  "required": [
    "DATABASE_URL",
    "JWT_SECRET",
    "NEXTAUTH_SECRET",
    "NEXTAUTH_URL",
    "NODE_ENV",
    "APP_URL"
  ],
  "additionalProperties": true
}