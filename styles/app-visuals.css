/* Post-login visual polish: sticky headers, list rows, chat bubbles */

:root {
  --surface: #ffffff;
  --border: rgba(17, 24, 39, 0.08); /* gray-900/8 */
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06), 0 1px 1px rgba(0,0,0,0.04);
}

.dark :root,
.dark {
  --surface: #0b0b0b;
  --border: rgba(255, 255, 255, 0.08);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.5);
}

/* Sticky header with blur and subtle shadow on scroll */
.sticky-header-blur {
  background: color-mix(in srgb, var(--surface) 90%, transparent);
  backdrop-filter: saturate(180%) blur(10px);
  -webkit-backdrop-filter: saturate(180%) blur(10px);
  border-bottom: 1px solid var(--border);
  transition: box-shadow 200ms ease, background-color 200ms ease;
}
.sticky-header-blur.is-scrolled {
  box-shadow: var(--shadow-sm);
}

/* List row hover/active state for conversations, fans, etc. */
.list-row {
  transition: background-color 160ms ease, transform 160ms ease, box-shadow 160ms ease;
}
.list-row:hover {
  background-color: rgba(17, 24, 39, 0.03);
}
.dark .list-row:hover {
  background-color: rgba(255, 255, 255, 0.04);
}
.list-row.is-new {
  animation: rowPop 320ms cubic-bezier(0.22,1,0.36,1);
}
@keyframes rowPop {
  0% { transform: translateY(2px); box-shadow: var(--shadow-sm); }
  100% { transform: translateY(0); box-shadow: none; }
}

/* Message bubbles */
.bubble {
  max-width: 72%;
  padding: 10px 12px;
  border-radius: 14px;
  font-size: 0.9375rem; /* ~15px */
  line-height: 1.35;
  word-wrap: break-word;
  white-space: pre-wrap;
}
.bubble-outgoing {
  background: linear-gradient(135deg, #7c3aed 0%, #9333ea 50%, #db2777 100%);
  color: #fff;
  border-top-right-radius: 6px;
  box-shadow: 0 6px 14px rgba(124, 58, 237, 0.18);
}
.bubble-incoming {
  background: #f3f4f6;
  color: #111827;
  border-top-left-radius: 6px;
}
.dark .bubble-incoming {
  background: #1f2937;
  color: #e5e7eb;
}
.bubble-meta {
  margin-top: 4px;
  font-size: 0.75rem;
  opacity: 0.8;
}

/* Indent main content on desktop when app shell active */
@media (min-width: 1024px) {
  body[data-app-shell="true"] main {
    padding-left: 18rem; /* w-72 */
  }
  body[data-app-shell="true"] aside[data-app-shell-hide="true"] {
    display: none !important;
  }
}
