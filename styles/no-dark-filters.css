/* ====================================
   SUPPRESSION TOTALE DES FILTRES SOMBRES (OPT-IN)
   Actif uniquement si <body data-no-overlay="true">
   ==================================== */

/* RESET SCOPÉ - Supprime les filtres uniquement en mode no-overlay */
body[data-no-overlay="true"] *,
body[data-no-overlay="true"] *::before,
body[data-no-overlay="true"] *::after {
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  -webkit-filter: none !important;
  mix-blend-mode: normal !important;
}

/* Supprime les filtres sur les états (scopé) */
body[data-no-overlay="true"] *:hover,
body[data-no-overlay="true"] *:focus,
body[data-no-overlay="true"] *:active,
body[data-no-overlay="true"] *:focus-within,
body[data-no-overlay="true"] *:focus-visible,
body[data-no-overlay="true"] *:target {
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  -webkit-filter: none !important;
  opacity: 1 !important;
  background: transparent !important;
  mix-blend-mode: normal !important;
}

/* Exceptions icônes (scopé) */
body[data-no-overlay="true"] .icon::before,
body[data-no-overlay="true"] .icon::after,
body[data-no-overlay="true"] svg::before,
body[data-no-overlay="true"] svg::after,
body[data-no-overlay="true"] [class*="lucide"]::before,
body[data-no-overlay="true"] [class*="lucide"]::after,
body[data-no-overlay="true"] [class*="fa-"]::before,
body[data-no-overlay="true"] [class*="fa-"]::after {
  display: initial !important;
  opacity: initial !important;
  content: "" !important;
}

/* Supprime les backgrounds sombres (scopé) */
body[data-no-overlay="true"] *[class*="bg-black"],
body[data-no-overlay="true"] *[class*="bg-gray-900"],
body[data-no-overlay="true"] *[class*="bg-opacity"],
body[data-no-overlay="true"] *[class*="dark:"],
body[data-no-overlay="true"] *[class*="backdrop"] {
  background-color: transparent !important;
}

/* Force transparence sur overlays connus (scopé) */
body[data-no-overlay="true"] .overlay,
body[data-no-overlay="true"] .backdrop,
body[data-no-overlay="true"] .modal-backdrop,
body[data-no-overlay="true"] .dialog-backdrop,
body[data-no-overlay="true"] [class*="overlay"],
body[data-no-overlay="true"] [class*="backdrop"],
body[data-no-overlay="true"] [class*="filter"],
body[data-no-overlay="true"] [class*="blur"],
body[data-no-overlay="true"] [class*="darken"],
body[data-no-overlay="true"] [class*="shade"],
body[data-no-overlay="true"] [class*="mask"] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Images et médias (scopé) */
body[data-no-overlay="true"] img,
body[data-no-overlay="true"] video,
body[data-no-overlay="true"] picture,
body[data-no-overlay="true"] canvas,
body[data-no-overlay="true"] svg {
  opacity: 1 !important;
  filter: none !important;
  mix-blend-mode: normal !important;
}

/* Supprime les gradients sombres (scopé) */
body[data-no-overlay="true"] *[class*="gradient"] {
  background-image: none !important;
}

/* Boutons visibles (scopé) */
body[data-no-overlay="true"] button,
body[data-no-overlay="true"] a,
body[data-no-overlay="true"] .btn,
body[data-no-overlay="true"] .button,
body[data-no-overlay="true"] [role="button"] {
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
}

/* Body/html (scopé) */
body[data-no-overlay="true"],
body[data-no-overlay="true"].dark {
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* Conteneurs principaux (scopé) */
body[data-no-overlay="true"] main,
body[data-no-overlay="true"] .main,
body[data-no-overlay="true"] #__next,
body[data-no-overlay="true"] #root,
body[data-no-overlay="true"] .container,
body[data-no-overlay="true"] .wrapper {
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* Debug overlays (scopé) */
body[data-no-overlay="true"] .hidden[class*="overlay"],
body[data-no-overlay="true"] .invisible[class*="overlay"],
body[data-no-overlay="true"] [style*="display: none"][class*="overlay"] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
}
