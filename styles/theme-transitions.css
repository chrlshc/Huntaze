/* Theme transition system - Performance optimized */

/* Base transitions - Limited to essential properties for performance */
* {
  transition-property: none;
  transition-duration: 0ms;
}

/* Only transition when not actively switching themes */
body:not(.theme-transitioning),
body:not(.theme-transitioning) * {
  transition-property: background-color, color, border-color, box-shadow;
  transition-duration: 200ms;
  transition-timing-function: ease-in-out;
}

/* Respect accessibility preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
  }
}

/* Specific component transitions */
.btn-primary,
.btn-secondary,
.card,
.nav-link {
  transition: transform 150ms ease, box-shadow 150ms ease;
}

/* Disable transitions during theme switch */
.theme-transitioning,
.theme-transitioning * {
  transition: none !important;
}

/* Smooth opacity transitions for overlays */
.modal-overlay,
.dropdown-menu {
  transition: opacity 200ms ease-in-out;
}

/* Transform-based transitions for better performance */
.hover-lift {
  will-change: transform;
  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-lift:hover {
  transform: translateY(-2px);
}

/* GPU-accelerated shadows */
.shadow-transition {
  transition: box-shadow 200ms ease;
  will-change: box-shadow;
}