feat: Complete TikTok integration with OAuth, upload, webhooks, and CRM sync

BREAKING CHANGES:
- New database tables: oauth_accounts, tiktok_posts, webhook_events
- New environment variables required (see below)

Features:
- TikTok OAuth 2.0 flow with CSRF protection
- Token encryption (AES-256-GCM) and auto-refresh
- Video upload (FILE_UPLOAD + PULL_FROM_URL modes)
- Rate limiting (6 req/min) and quota management (5/24h)
- Webhook processing with signature verification
- Idempotent event handling with exponential backoff
- CRM sync with repositories and background workers
- Token refresh scheduler
- Connection status and disconnect endpoints

Services Added:
- TokenEncryptionService: AES-256-GCM encryption for OAuth tokens
- TokenManager: Token lifecycle management with auto-refresh
- TikTokOAuthService: Complete OAuth 2.0 flow implementation
- TikTokUploadService: Video upload with rate limiting
- WebhookProcessor: Event processing with idempotence

Repositories Added:
- OAuthAccountsRepository: OAuth accounts CRUD with encryption
- TikTokPostsRepository: Posts tracking with statistics

Workers Added:
- WebhookWorker: Async webhook event processing
- TokenRefreshScheduler: Auto-refresh expiring tokens

API Endpoints:
- GET  /api/auth/tiktok - OAuth initialization
- GET  /api/auth/tiktok/callback - OAuth callback
- POST /api/tiktok/upload - Initialize video upload
- GET  /api/tiktok/status/:publishId - Query upload status
- POST /api/webhooks/tiktok - Receive TikTok webhooks
- GET  /api/platforms/tiktok/status - Connection status
- POST /api/platforms/tiktok/disconnect - Disconnect account
- POST /api/workers/webhooks - Trigger webhook worker
- POST /api/workers/token-refresh - Trigger token refresh

UI Pages:
- /platforms/connect/tiktok - TikTok connection page

Database:
- Migration: 2024-10-31-social-integrations.sql
- Tables: oauth_accounts, tiktok_posts, webhook_events
- 26 indexes for optimal performance

Scripts:
- scripts/migrate-social-integrations.js - Run migration
- scripts/run-webhook-worker.js - Webhook worker process
- scripts/run-token-refresh.js - Token refresh process

Tests:
- Unit tests for TokenEncryption
- Unit tests for TikTokOAuthService
- Integration tests for OAuth endpoints
- Integration tests for upload flow
- Integration tests for webhook processing
- UI component logic tests

Security:
- Token encryption at rest (AES-256-GCM)
- CSRF protection with state parameter
- Webhook signature verification (HMAC-SHA256)
- Timing-safe comparison for signatures
- Worker authentication with secrets
- Rate limiting on all endpoints

Environment Variables Required:
- TIKTOK_CLIENT_KEY - TikTok OAuth client key
- TIKTOK_CLIENT_SECRET - TikTok OAuth client secret
- NEXT_PUBLIC_TIKTOK_REDIRECT_URI - OAuth callback URL
- TOKEN_ENCRYPTION_KEY - 32-byte hex key for encryption
- TIKTOK_WEBHOOK_SECRET - Webhook signature secret (optional)
- WORKER_SECRET - Worker endpoint authentication (optional)

Deployment:
- Cron jobs for workers (recommended every 5-30 minutes)
- AWS Lambda compatible
- Standalone Node.js processes supported
- Docker/Kubernetes ready

Documentation:
- TIKTOK_INTEGRATION_COMPLETE.md - Complete overview
- SOCIAL_INTEGRATIONS_PROGRESS.md - Progress tracking
- TOKEN_ENCRYPTION_TESTS_COMPLETE.md - Encryption tests
- TIKTOK_OAUTH_TESTS_COMPLETE.md - OAuth tests
- TIKTOK_UI_TESTS_COMPLETE.md - UI tests
- .kiro/specs/social-integrations/ - Full specifications

Files Changed: 25+
Lines Added: ~3,500+
Tests Added: 10+

Status: Production Ready âœ…

Co-authored-by: Kiro AI <kiro@example.com>
