test: add analytics snapshots repository tests (Task 2.1)

Add comprehensive test suite for analytics data collection:

Repository Tests (26 tests - all passing):
- Create/upsert snapshots with conflict resolution
- Query by user and time range with platform filtering
- Get latest snapshot per platform
- Aggregate metrics across all platforms
- Platform breakdown with metrics
- Data retention (delete old snapshots)
- Edge cases: null values, large numbers, JSON metadata

Key Features:
- PostgreSQL numeric parsing (SUM/COUNT return strings)
- Upsert on (user_id, platform, snapshot_date)
- Date normalization to midnight
- COALESCE for null-safe aggregations
- Comprehensive error handling

Worker Testing Strategy:
- Unit tests challenging due to singleton pattern
- Recommend integration tests with test database
- Document testing approach in README

Files:
- tests/unit/db/repositories/analyticsSnapshotsRepository.test.ts (26 tests)
- tests/unit/workers/README.md (documentation)
- ANALYTICS_DATA_COLLECTION_TESTS_COMPLETE.md (summary)

Coverage: 26/26 tests passing (100%)

Related: .kiro/specs/advanced-analytics/tasks.md (Task 2.1)
