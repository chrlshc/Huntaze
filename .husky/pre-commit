#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Validating build before commit..."

# Run build validation
npm run build:validate

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Build failed! Fix errors before committing."
  echo "ğŸ’¡ Check .kiro/build-logs/ for details"
  echo "âš ï¸  Use 'git commit --no-verify' to bypass (not recommended)"
  echo ""
  exit 1
fi

echo "âœ… Build successful! Proceeding with commit..."
exit 0
