"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OutputFormat=exports.OrcOutputFormat=exports.OrcFormatVersion=exports.OrcCompression=exports.ParquetOutputFormat=exports.ParquetWriterVersion=exports.ParquetCompression=void 0;var jsiiDeprecationWarnings=()=>{var tmp=require("../../../.warnings.jsii.js");return jsiiDeprecationWarnings=()=>tmp,tmp};const JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti");var cdk=()=>{var tmp=require("../../../core");return cdk=()=>tmp,tmp};class ParquetCompression{value;static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_kinesisfirehose.ParquetCompression",version:"2.221.0"};static GZIP=new ParquetCompression("GZIP");static SNAPPY=new ParquetCompression("SNAPPY");static UNCOMPRESSED=new ParquetCompression("UNCOMPRESSED");static of(value){return new ParquetCompression(value)}constructor(value){this.value=value}}exports.ParquetCompression=ParquetCompression;var ParquetWriterVersion;(function(ParquetWriterVersion2){ParquetWriterVersion2.V1="V1",ParquetWriterVersion2.V2="V2"})(ParquetWriterVersion||(exports.ParquetWriterVersion=ParquetWriterVersion={}));class ParquetOutputFormat{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_kinesisfirehose.ParquetOutputFormat",version:"2.221.0"};props;constructor(props){try{jsiiDeprecationWarnings().aws_cdk_lib_aws_kinesisfirehose_ParquetOutputFormatProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,ParquetOutputFormat),error}this.props=props,this.validateProps(props)}validateProps(props){if(props){if(props.blockSize!==void 0&&props.blockSize.toMebibytes()<64)throw new(cdk()).UnscopedValidationError(`Block size ${props.blockSize.toMebibytes()} is invalid, it must be at least 64 MiB`);if(props.pageSize!==void 0&&props.pageSize.toKibibytes()<64)throw new(cdk()).UnscopedValidationError(`Page size ${props.pageSize.toKibibytes()} is invalid, it must be at least 64 KiB`)}}createParquetSerDeProps(){const props=this.props;return props?{blockSizeBytes:props.blockSize?.toBytes(),compression:props.compression?.value,enableDictionaryCompression:props.enableDictionaryCompression,maxPaddingBytes:props.maxPadding?.toBytes(),pageSizeBytes:props.pageSize?.toBytes(),writerVersion:props.writerVersion}:{}}createOutputFormatConfig(){return{serializer:{parquetSerDe:this.createParquetSerDeProps()}}}}exports.ParquetOutputFormat=ParquetOutputFormat;class OrcCompression{value;static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_kinesisfirehose.OrcCompression",version:"2.221.0"};static ZLIB=new OrcCompression("ZLIB");static SNAPPY=new OrcCompression("SNAPPY");static NONE=new OrcCompression("NONE");static of(value){return new OrcCompression(value)}constructor(value){this.value=value}}exports.OrcCompression=OrcCompression;var OrcFormatVersion;(function(OrcFormatVersion2){OrcFormatVersion2.V0_11="V0_11",OrcFormatVersion2.V0_12="V0_12"})(OrcFormatVersion||(exports.OrcFormatVersion=OrcFormatVersion={}));class OrcOutputFormat{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_kinesisfirehose.OrcOutputFormat",version:"2.221.0"};props;constructor(props){try{jsiiDeprecationWarnings().aws_cdk_lib_aws_kinesisfirehose_OrcOutputFormatProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,OrcOutputFormat),error}this.props=props,this.validateProps(props)}betweenInclusive(num,min,max){return num>=min&&num<=max}validateProps(props){if(props){if(props.blockSize!==void 0&&props.blockSize.toMebibytes()<64)throw new(cdk()).UnscopedValidationError(`Block size ${props.blockSize.toMebibytes()} is invalid, it must be at least 64 MiB`);if(props.stripeSize!==void 0&&props.stripeSize.toMebibytes()<8)throw new(cdk()).UnscopedValidationError(`Stripe size ${props.stripeSize.toMebibytes()} is invalid, it must be at least 8 MiB`);if(props.bloomFilterFalsePositiveProbability!==void 0&&!this.betweenInclusive(props.bloomFilterFalsePositiveProbability,0,1))throw new(cdk()).UnscopedValidationError(`Bloom filter false positive probability ${props.bloomFilterFalsePositiveProbability} is invalid, it must be between 0 and 1, inclusive`);if(props.dictionaryKeyThreshold!==void 0&&!this.betweenInclusive(props.dictionaryKeyThreshold,0,1))throw new(cdk()).UnscopedValidationError(`Dictionary key threshold ${props.dictionaryKeyThreshold} is invalid, it must be between 0 and 1, inclusive`);if(props.paddingTolerance!==void 0&&!this.betweenInclusive(props.paddingTolerance,0,1))throw new(cdk()).UnscopedValidationError(`Padding tolerance ${props.paddingTolerance} is invalid, it must be between 0 and 1, inclusive`);if(props.rowIndexStride!==void 0&&props.rowIndexStride<1e3)throw new(cdk()).UnscopedValidationError(`Row index stride ${props.rowIndexStride} is invalid, it must be at least 1000`)}}createOrcSerDeProps(){const props=this.props;return props?{blockSizeBytes:props.blockSize?.toBytes(),bloomFilterColumns:props.bloomFilterColumns,bloomFilterFalsePositiveProbability:props.bloomFilterFalsePositiveProbability,compression:props.compression?.value,dictionaryKeyThreshold:props.dictionaryKeyThreshold,enablePadding:props.enablePadding,formatVersion:props.formatVersion,paddingTolerance:props.paddingTolerance,rowIndexStride:props.rowIndexStride,stripeSizeBytes:props.stripeSize?.toBytes()}:{}}createOutputFormatConfig(){return{serializer:{orcSerDe:this.createOrcSerDeProps()}}}}exports.OrcOutputFormat=OrcOutputFormat;class OutputFormat{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_kinesisfirehose.OutputFormat",version:"2.221.0"};static PARQUET=new ParquetOutputFormat;static ORC=new OrcOutputFormat;constructor(){}}exports.OutputFormat=OutputFormat;
