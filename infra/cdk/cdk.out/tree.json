{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.219.0"},"children":{"HuntazeOfStack":{"id":"HuntazeOfStack","path":"HuntazeOfStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.219.0"},"children":{"OfSessionsKmsKey":{"id":"OfSessionsKmsKey","path":"HuntazeOfStack/OfSessionsKmsKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSessionsKmsKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::317805897534:root"]]}},"Resource":"*"}],"Version":"2012-10-17"}}}},"Alias":{"id":"Alias","path":"HuntazeOfStack/OfSessionsKmsKey/Alias","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Alias","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSessionsKmsKey/Alias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnAlias","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Alias","aws:cdk:cloudformation:props":{"aliasName":"alias/huntaze-of-sessions","targetKeyId":{"Fn::GetAtt":["OfSessionsKmsKey8FE2B453","Arn"]}}}}}}}},"Sessions":{"id":"Sessions","path":"HuntazeOfStack/Sessions","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/Sessions/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"userId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"userId","keyType":"HASH"}],"sseSpecification":{"sseEnabled":true},"tableName":"HuntazeOfSessions"}}},"ScalingRole":{"id":"ScalingRole","path":"HuntazeOfStack/Sessions/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}}}},"Messages":{"id":"Messages","path":"HuntazeOfStack/Messages","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/Messages/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"id","keyType":"HASH"}],"sseSpecification":{"sseEnabled":true},"tableName":"HuntazeOfMessages"}}},"ScalingRole":{"id":"ScalingRole","path":"HuntazeOfStack/Messages/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}}}},"Threads":{"id":"Threads","path":"HuntazeOfStack/Threads","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/Threads/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"userId","attributeType":"S"},{"attributeName":"conversationId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"userId","keyType":"HASH"},{"attributeName":"conversationId","keyType":"RANGE"}],"sseSpecification":{"sseEnabled":true},"tableName":"HuntazeOfThreads"}}},"ScalingRole":{"id":"ScalingRole","path":"HuntazeOfStack/Threads/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}}}},"OfSendQueue":{"id":"OfSendQueue","path":"HuntazeOfStack/OfSendQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSendQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":345600,"queueName":"HuntazeOfSendQueue","visibilityTimeout":120}}}}},"OfVpc":{"id":"OfVpc","path":"HuntazeOfStack/OfVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"HuntazeOfStack/OfVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.219.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HuntazeOfStack/OfVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"HuntazeOfStack/OfVpc/PublicSubnet1"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"Acl":{"id":"Acl","path":"HuntazeOfStack/OfVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HuntazeOfStack/OfVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc/PublicSubnet1"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HuntazeOfStack/OfVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"OfVpcPublicSubnet1RouteTableAFAE1FD6"},"subnetId":{"Ref":"OfVpcPublicSubnet1Subnet14897662"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"HuntazeOfStack/OfVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"OfVpcIGW32ABBEF6"},"routeTableId":{"Ref":"OfVpcPublicSubnet1RouteTableAFAE1FD6"}}}},"EIP":{"id":"EIP","path":"HuntazeOfStack/OfVpc/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"HuntazeOfStack/OfVpc/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["OfVpcPublicSubnet1EIPF1D63041","AllocationId"]},"subnetId":{"Ref":"OfVpcPublicSubnet1Subnet14897662"},"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc/PublicSubnet1"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"HuntazeOfStack/OfVpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.219.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HuntazeOfStack/OfVpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"HuntazeOfStack/OfVpc/PublicSubnet2"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"Acl":{"id":"Acl","path":"HuntazeOfStack/OfVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HuntazeOfStack/OfVpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc/PublicSubnet2"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HuntazeOfStack/OfVpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"OfVpcPublicSubnet2RouteTable178D1515"},"subnetId":{"Ref":"OfVpcPublicSubnet2SubnetD37B0406"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"HuntazeOfStack/OfVpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"OfVpcIGW32ABBEF6"},"routeTableId":{"Ref":"OfVpcPublicSubnet2RouteTable178D1515"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"HuntazeOfStack/OfVpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.219.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HuntazeOfStack/OfVpc/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"HuntazeOfStack/OfVpc/PrivateSubnet1"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"Acl":{"id":"Acl","path":"HuntazeOfStack/OfVpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HuntazeOfStack/OfVpc/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc/PrivateSubnet1"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HuntazeOfStack/OfVpc/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"OfVpcPrivateSubnet1RouteTableD283FA7B"},"subnetId":{"Ref":"OfVpcPrivateSubnet1SubnetF2C8B46B"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"HuntazeOfStack/OfVpc/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"OfVpcPublicSubnet1NATGateway763B4778"},"routeTableId":{"Ref":"OfVpcPrivateSubnet1RouteTableD283FA7B"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"HuntazeOfStack/OfVpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.219.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HuntazeOfStack/OfVpc/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"HuntazeOfStack/OfVpc/PrivateSubnet2"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"Acl":{"id":"Acl","path":"HuntazeOfStack/OfVpc/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HuntazeOfStack/OfVpc/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc/PrivateSubnet2"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HuntazeOfStack/OfVpc/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"OfVpcPrivateSubnet2RouteTable84F8F037"},"subnetId":{"Ref":"OfVpcPrivateSubnet2SubnetDC65F836"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"HuntazeOfStack/OfVpc/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"OfVpcPublicSubnet1NATGateway763B4778"},"routeTableId":{"Ref":"OfVpcPrivateSubnet2RouteTable84F8F037"}}}}}},"IGW":{"id":"IGW","path":"HuntazeOfStack/OfVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc"}]}}},"VPCGW":{"id":"VPCGW","path":"HuntazeOfStack/OfVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"OfVpcIGW32ABBEF6"},"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}}}},"OfTaskSg":{"id":"OfTaskSg","path":"HuntazeOfStack/OfTaskSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfTaskSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Egress-only","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}}}},"OfCluster":{"id":"OfCluster","path":"HuntazeOfStack/OfCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{}}}}},"BrowserWorkerTask":{"id":"BrowserWorkerTask","path":"HuntazeOfStack/BrowserWorkerTask","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.219.0","metadata":[]},"children":{"TaskRole":{"id":"TaskRole","path":"HuntazeOfStack/BrowserWorkerTask/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.219.0","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"HuntazeOfStack/BrowserWorkerTask/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerTask/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HuntazeOfStack/BrowserWorkerTask/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerTask/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Sessions8896A56D","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Messages804FA4EB","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ThreadsE6A0B71E","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":"kms:Decrypt","Effect":"Allow","Resource":{"Fn::GetAtt":["OfSessionsKmsKey8FE2B453","Arn"]}},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:us-east-1:317805897534:secret:of/creds/*"}],"Version":"2012-10-17"},"policyName":"BrowserWorkerTaskTaskRoleDefaultPolicyC1437B8F","roles":[{"Ref":"BrowserWorkerTaskTaskRole8D2E5D2C"}]}}}}}}},"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerTask/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Join":["",["317805897534.dkr.ecr.us-east-1.",{"Ref":"AWS::URLSuffix"},"/huntaze/of-browser-worker:main"]]},"name":"of-browser-worker","ulimits":[{"name":"nofile","softLimit":8192,"hardLimit":8192}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"BrowserWorkerLogs87663EC0"},"awslogs-stream-prefix":"of-browser","awslogs-region":"us-east-1"}},"environment":[{"name":"OF_DDB_SESSIONS_TABLE","value":{"Ref":"Sessions8896A56D"}},{"name":"OF_DDB_MESSAGES_TABLE","value":{"Ref":"Messages804FA4EB"}},{"name":"OF_DDB_THREADS_TABLE","value":{"Ref":"ThreadsE6A0B71E"}},{"name":"OF_KMS_KEY_ID","value":{"Fn::GetAtt":["OfSessionsKmsKey8FE2B453","Arn"]}}]}],"cpu":"1024","executionRoleArn":{"Fn::GetAtt":["BrowserWorkerTaskExecutionRole51F82989","Arn"]},"family":"HuntazeOfStackBrowserWorkerTaskCED33274","memory":"2048","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["BrowserWorkerTaskTaskRole8D2E5D2C","Arn"]}}}},"of-browser-worker":{"id":"of-browser-worker","path":"HuntazeOfStack/BrowserWorkerTask/of-browser-worker","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.219.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"HuntazeOfStack/BrowserWorkerTask/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.219.0","metadata":[]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"HuntazeOfStack/BrowserWorkerTask/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerTask/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HuntazeOfStack/BrowserWorkerTask/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerTask/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ecr:us-east-1:317805897534:repository/huntaze/of-browser-worker"]]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["BrowserWorkerLogs87663EC0","Arn"]}}],"Version":"2012-10-17"},"policyName":"BrowserWorkerTaskExecutionRoleDefaultPolicy0F449908","roles":[{"Ref":"BrowserWorkerTaskExecutionRole51F82989"}]}}}}}}}}},"BrowserWorkerLogs":{"id":"BrowserWorkerLogs","path":"HuntazeOfStack/BrowserWorkerLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/huntaze/of/browser-worker","retentionInDays":7}}}}},"BrowserWorkerEcrRepo":{"id":"BrowserWorkerEcrRepo","path":"HuntazeOfStack/BrowserWorkerEcrRepo","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.219.0","metadata":[]}},"SendWorker":{"id":"SendWorker","path":"HuntazeOfStack/SendWorker","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.219.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"HuntazeOfStack/SendWorker/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.219.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"HuntazeOfStack/SendWorker/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/SendWorker/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HuntazeOfStack/SendWorker/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/SendWorker/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OfSendQueue3961ABF3","Arn"]}},{"Action":["ecs:RunTask","iam:PassRole"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"SendWorkerServiceRoleDefaultPolicyFE3FF264","roles":[{"Ref":"SendWorkerServiceRole4B5EF651"}]}}}}}}},"Code":{"id":"Code","path":"HuntazeOfStack/SendWorker/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.219.0"},"children":{"Stage":{"id":"Stage","path":"HuntazeOfStack/SendWorker/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.219.0"}},"AssetBucket":{"id":"AssetBucket","path":"HuntazeOfStack/SendWorker/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.219.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"HuntazeOfStack/SendWorker/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-317805897534-us-east-1","s3Key":"404478b04aca0b9df9da53df98f0b88b223c12bacc4f263404baf6227d5bc13d.zip"},"environment":{"variables":{"OF_ECS_CLUSTER_ARN":{"Fn::GetAtt":["OfClusterA7E617DB","Arn"]},"OF_ECS_TASKDEF_ARN":{"Ref":"BrowserWorkerTask01044B0A"},"OF_VPC_SUBNETS":{"Fn::Join":["",[{"Ref":"OfVpcPrivateSubnet1SubnetF2C8B46B"},",",{"Ref":"OfVpcPrivateSubnet2SubnetDC65F836"}]]},"OF_TASK_SG_ID":{"Fn::GetAtt":["OfTaskSgC92CC608","GroupId"]},"OF_DDB_SESSIONS_TABLE":{"Ref":"Sessions8896A56D"},"OF_DDB_MESSAGES_TABLE":{"Ref":"Messages804FA4EB"},"OF_KMS_KEY_ID":{"Fn::GetAtt":["OfSessionsKmsKey8FE2B453","Arn"]}}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["SendWorkerServiceRole4B5EF651","Arn"]},"runtime":"nodejs18.x","timeout":30}}},"SqsEventSource:HuntazeOfStackOfSendQueue81EBCE1D":{"id":"SqsEventSource:HuntazeOfStackOfSendQueue81EBCE1D","path":"HuntazeOfStack/SendWorker/SqsEventSource:HuntazeOfStackOfSendQueue81EBCE1D","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/SendWorker/SqsEventSource:HuntazeOfStackOfSendQueue81EBCE1D/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":10,"eventSourceArn":{"Fn::GetAtt":["OfSendQueue3961ABF3","Arn"]},"functionName":{"Ref":"SendWorkerC9B374FE"},"functionResponseTypes":["ReportBatchItemFailures"],"scalingConfig":{"maximumConcurrency":10}}}}}}}},"SyncDispatcher":{"id":"SyncDispatcher","path":"HuntazeOfStack/SyncDispatcher","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.219.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"HuntazeOfStack/SyncDispatcher/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.219.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"HuntazeOfStack/SyncDispatcher/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/SyncDispatcher/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HuntazeOfStack/SyncDispatcher/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/SyncDispatcher/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Sessions8896A56D","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["ecs:RunTask","iam:PassRole"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"SyncDispatcherServiceRoleDefaultPolicy794664EB","roles":[{"Ref":"SyncDispatcherServiceRole3EB2A9AD"}]}}}}}}},"Code":{"id":"Code","path":"HuntazeOfStack/SyncDispatcher/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.219.0"},"children":{"Stage":{"id":"Stage","path":"HuntazeOfStack/SyncDispatcher/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.219.0"}},"AssetBucket":{"id":"AssetBucket","path":"HuntazeOfStack/SyncDispatcher/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.219.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"HuntazeOfStack/SyncDispatcher/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-317805897534-us-east-1","s3Key":"9b100b0381f12ccb8e203c7027567dfed3b3c09091df68914a2cc2b863568c14.zip"},"environment":{"variables":{"OF_ECS_CLUSTER_ARN":{"Fn::GetAtt":["OfClusterA7E617DB","Arn"]},"OF_ECS_TASKDEF_ARN":{"Ref":"BrowserWorkerTask01044B0A"},"OF_VPC_SUBNETS":{"Fn::Join":["",[{"Ref":"OfVpcPrivateSubnet1SubnetF2C8B46B"},",",{"Ref":"OfVpcPrivateSubnet2SubnetDC65F836"}]]},"OF_TASK_SG_ID":{"Fn::GetAtt":["OfTaskSgC92CC608","GroupId"]},"OF_DDB_SESSIONS_TABLE":{"Ref":"Sessions8896A56D"},"OF_DDB_MESSAGES_TABLE":{"Ref":"Messages804FA4EB"},"OF_KMS_KEY_ID":{"Fn::GetAtt":["OfSessionsKmsKey8FE2B453","Arn"]}}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["SyncDispatcherServiceRole3EB2A9AD","Arn"]},"runtime":"nodejs18.x","timeout":60}}}}},"InboxSyncRule":{"id":"InboxSyncRule","path":"HuntazeOfStack/InboxSyncRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/InboxSyncRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"scheduleExpression":"rate(5 minutes)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["SyncDispatcher467CB492","Arn"]}}]}}},"AllowEventRuleHuntazeOfStackSyncDispatcher4ECC6487":{"id":"AllowEventRuleHuntazeOfStackSyncDispatcher4ECC6487","path":"HuntazeOfStack/InboxSyncRule/AllowEventRuleHuntazeOfStackSyncDispatcher4ECC6487","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SyncDispatcher467CB492","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["InboxSyncRuleB3752CD5","Arn"]}}}}}},"SendQueueUrl":{"id":"SendQueueUrl","path":"HuntazeOfStack/SendQueueUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"SessionsTable":{"id":"SessionsTable","path":"HuntazeOfStack/SessionsTable","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"MessagesTable":{"id":"MessagesTable","path":"HuntazeOfStack/MessagesTable","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"ThreadsTable":{"id":"ThreadsTable","path":"HuntazeOfStack/ThreadsTable","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"KmsKeyArn":{"id":"KmsKeyArn","path":"HuntazeOfStack/KmsKeyArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"ClusterArn":{"id":"ClusterArn","path":"HuntazeOfStack/ClusterArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"TaskDefArn":{"id":"TaskDefArn","path":"HuntazeOfStack/TaskDefArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"TaskSecurityGroup":{"id":"TaskSecurityGroup","path":"HuntazeOfStack/TaskSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"SubnetsPrivate":{"id":"SubnetsPrivate","path":"HuntazeOfStack/SubnetsPrivate","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"HuntazeOfStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"HuntazeOfStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.219.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HuntazeOfStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.219.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HuntazeOfStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.219.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}