{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.219.0"},"children":{"HuntazeOfStack":{"id":"HuntazeOfStack","path":"HuntazeOfStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.219.0"},"children":{"OfSessionsKmsKey":{"id":"OfSessionsKmsKey","path":"HuntazeOfStack/OfSessionsKmsKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSessionsKmsKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::317805897534:root"]]}},"Resource":"*"}],"Version":"2012-10-17"}}}},"Alias":{"id":"Alias","path":"HuntazeOfStack/OfSessionsKmsKey/Alias","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Alias","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSessionsKmsKey/Alias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnAlias","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Alias","aws:cdk:cloudformation:props":{"aliasName":"alias/huntaze-of-sessions","targetKeyId":{"Fn::GetAtt":["OfSessionsKmsKey8FE2B453","Arn"]}}}}}}}},"Sessions":{"id":"Sessions","path":"HuntazeOfStack/Sessions","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/Sessions/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"userId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"userId","keyType":"HASH"}],"sseSpecification":{"sseEnabled":true},"tableName":"HuntazeOfSessions"}}},"ScalingRole":{"id":"ScalingRole","path":"HuntazeOfStack/Sessions/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}}}},"Messages":{"id":"Messages","path":"HuntazeOfStack/Messages","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/Messages/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"id","keyType":"HASH"}],"sseSpecification":{"sseEnabled":true},"tableName":"HuntazeOfMessages"}}},"ScalingRole":{"id":"ScalingRole","path":"HuntazeOfStack/Messages/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}}}},"Threads":{"id":"Threads","path":"HuntazeOfStack/Threads","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/Threads/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"userId","attributeType":"S"},{"attributeName":"conversationId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"userId","keyType":"HASH"},{"attributeName":"conversationId","keyType":"RANGE"}],"sseSpecification":{"sseEnabled":true},"tableName":"HuntazeOfThreads"}}},"ScalingRole":{"id":"ScalingRole","path":"HuntazeOfStack/Threads/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}}}},"OfSendDLQ":{"id":"OfSendDLQ","path":"HuntazeOfStack/OfSendDLQ","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSendDLQ/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"fifoQueue":true,"messageRetentionPeriod":1209600,"queueName":"HuntazeOfSendDLQ.fifo"}}}}},"OfSendQueue":{"id":"OfSendQueue","path":"HuntazeOfStack/OfSendQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSendQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"contentBasedDeduplication":false,"fifoQueue":true,"messageRetentionPeriod":345600,"queueName":"HuntazeOfSendQueue.fifo","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["OfSendDLQ3171FB88","Arn"]},"maxReceiveCount":5},"visibilityTimeout":120}}}}},"OfVpc":{"id":"OfVpc","path":"HuntazeOfStack/OfVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"HuntazeOfStack/OfVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.219.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HuntazeOfStack/OfVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"HuntazeOfStack/OfVpc/PublicSubnet1"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"Acl":{"id":"Acl","path":"HuntazeOfStack/OfVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HuntazeOfStack/OfVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc/PublicSubnet1"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HuntazeOfStack/OfVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"OfVpcPublicSubnet1RouteTableAFAE1FD6"},"subnetId":{"Ref":"OfVpcPublicSubnet1Subnet14897662"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"HuntazeOfStack/OfVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"OfVpcIGW32ABBEF6"},"routeTableId":{"Ref":"OfVpcPublicSubnet1RouteTableAFAE1FD6"}}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"HuntazeOfStack/OfVpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.219.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HuntazeOfStack/OfVpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"HuntazeOfStack/OfVpc/PublicSubnet2"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"Acl":{"id":"Acl","path":"HuntazeOfStack/OfVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HuntazeOfStack/OfVpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc/PublicSubnet2"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HuntazeOfStack/OfVpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"OfVpcPublicSubnet2RouteTable178D1515"},"subnetId":{"Ref":"OfVpcPublicSubnet2SubnetD37B0406"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"HuntazeOfStack/OfVpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"OfVpcIGW32ABBEF6"},"routeTableId":{"Ref":"OfVpcPublicSubnet2RouteTable178D1515"}}}}}},"IsolatedSubnet1":{"id":"IsolatedSubnet1","path":"HuntazeOfStack/OfVpc/IsolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.219.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HuntazeOfStack/OfVpc/IsolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"HuntazeOfStack/OfVpc/IsolatedSubnet1"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"Acl":{"id":"Acl","path":"HuntazeOfStack/OfVpc/IsolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HuntazeOfStack/OfVpc/IsolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc/IsolatedSubnet1"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HuntazeOfStack/OfVpc/IsolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"OfVpcIsolatedSubnet1RouteTableF61C6F05"},"subnetId":{"Ref":"OfVpcIsolatedSubnet1SubnetDE7EBE8D"}}}}}},"IsolatedSubnet2":{"id":"IsolatedSubnet2","path":"HuntazeOfStack/OfVpc/IsolatedSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.219.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HuntazeOfStack/OfVpc/IsolatedSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"HuntazeOfStack/OfVpc/IsolatedSubnet2"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"Acl":{"id":"Acl","path":"HuntazeOfStack/OfVpc/IsolatedSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HuntazeOfStack/OfVpc/IsolatedSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc/IsolatedSubnet2"}],"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HuntazeOfStack/OfVpc/IsolatedSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"OfVpcIsolatedSubnet2RouteTableB27C36B1"},"subnetId":{"Ref":"OfVpcIsolatedSubnet2SubnetA6804EFB"}}}}}},"IGW":{"id":"IGW","path":"HuntazeOfStack/OfVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/OfVpc"}]}}},"VPCGW":{"id":"VPCGW","path":"HuntazeOfStack/OfVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"OfVpcIGW32ABBEF6"},"vpcId":{"Ref":"OfVpcE0BFA4EC"}}}}}},"WorkerVpc":{"id":"WorkerVpc","path":"HuntazeOfStack/WorkerVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/WorkerVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.2.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"HuntazeOfStack/WorkerVpc"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"HuntazeOfStack/WorkerVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.219.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HuntazeOfStack/WorkerVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.2.0.0/20","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"HuntazeOfStack/WorkerVpc/PublicSubnet1"}],"vpcId":{"Ref":"WorkerVpcA12AC6F9"}}}},"Acl":{"id":"Acl","path":"HuntazeOfStack/WorkerVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HuntazeOfStack/WorkerVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/WorkerVpc/PublicSubnet1"}],"vpcId":{"Ref":"WorkerVpcA12AC6F9"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HuntazeOfStack/WorkerVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"WorkerVpcPublicSubnet1RouteTable64D1002B"},"subnetId":{"Ref":"WorkerVpcPublicSubnet1Subnet549B8620"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"HuntazeOfStack/WorkerVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"WorkerVpcIGWC2B94A1A"},"routeTableId":{"Ref":"WorkerVpcPublicSubnet1RouteTable64D1002B"}}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"HuntazeOfStack/WorkerVpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.219.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HuntazeOfStack/WorkerVpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.2.16.0/20","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"HuntazeOfStack/WorkerVpc/PublicSubnet2"}],"vpcId":{"Ref":"WorkerVpcA12AC6F9"}}}},"Acl":{"id":"Acl","path":"HuntazeOfStack/WorkerVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HuntazeOfStack/WorkerVpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/WorkerVpc/PublicSubnet2"}],"vpcId":{"Ref":"WorkerVpcA12AC6F9"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HuntazeOfStack/WorkerVpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"WorkerVpcPublicSubnet2RouteTableAB97C578"},"subnetId":{"Ref":"WorkerVpcPublicSubnet2Subnet4C3F610E"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"HuntazeOfStack/WorkerVpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"WorkerVpcIGWC2B94A1A"},"routeTableId":{"Ref":"WorkerVpcPublicSubnet2RouteTableAB97C578"}}}}}},"IGW":{"id":"IGW","path":"HuntazeOfStack/WorkerVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HuntazeOfStack/WorkerVpc"}]}}},"VPCGW":{"id":"VPCGW","path":"HuntazeOfStack/WorkerVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"WorkerVpcIGWC2B94A1A"},"vpcId":{"Ref":"WorkerVpcA12AC6F9"}}}}}},"OfTaskSg":{"id":"OfTaskSg","path":"HuntazeOfStack/OfTaskSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfTaskSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Egress-only","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"WorkerVpcA12AC6F9"}}}}}},"OfCluster":{"id":"OfCluster","path":"HuntazeOfStack/OfCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{}}}}},"BrowserWorkerTask":{"id":"BrowserWorkerTask","path":"HuntazeOfStack/BrowserWorkerTask","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.219.0","metadata":[]},"children":{"TaskRole":{"id":"TaskRole","path":"HuntazeOfStack/BrowserWorkerTask/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.219.0","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"HuntazeOfStack/BrowserWorkerTask/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerTask/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HuntazeOfStack/BrowserWorkerTask/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerTask/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Sessions8896A56D","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Messages804FA4EB","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ThreadsE6A0B71E","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["kms:Decrypt","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OfSessionsKmsKey8FE2B453","Arn"]}},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:us-east-1:317805897534:secret:of/creds/*"}],"Version":"2012-10-17"},"policyName":"BrowserWorkerTaskTaskRoleDefaultPolicyC1437B8F","roles":[{"Ref":"BrowserWorkerTaskTaskRole8D2E5D2C"}]}}}}}}},"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerTask/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"command":["node","-e","console.log('Browser worker placeholder image (no app code)'); setTimeout(()=>{}, 3600000);"],"essential":true,"image":"mcr.microsoft.com/playwright:v1.56.0-jammy","name":"of-browser-worker","ulimits":[{"name":"nofile","softLimit":8192,"hardLimit":8192}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"BrowserWorkerLogs87663EC0"},"awslogs-stream-prefix":"of-browser","awslogs-region":"us-east-1"}},"environment":[{"name":"OF_DDB_SESSIONS_TABLE","value":{"Ref":"Sessions8896A56D"}},{"name":"OF_DDB_MESSAGES_TABLE","value":{"Ref":"Messages804FA4EB"}},{"name":"OF_DDB_THREADS_TABLE","value":{"Ref":"ThreadsE6A0B71E"}},{"name":"OF_KMS_KEY_ID","value":{"Fn::GetAtt":["OfSessionsKmsKey8FE2B453","Arn"]}}]}],"cpu":"2048","executionRoleArn":{"Fn::GetAtt":["BrowserWorkerTaskExecutionRole51F82989","Arn"]},"family":"HuntazeOfStackBrowserWorkerTaskCED33274","memory":"8192","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"runtimePlatform":{"cpuArchitecture":"X86_64","operatingSystemFamily":"LINUX"},"taskRoleArn":{"Fn::GetAtt":["BrowserWorkerTaskTaskRole8D2E5D2C","Arn"]}}}},"of-browser-worker":{"id":"of-browser-worker","path":"HuntazeOfStack/BrowserWorkerTask/of-browser-worker","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.219.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"HuntazeOfStack/BrowserWorkerTask/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.219.0","metadata":[]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"HuntazeOfStack/BrowserWorkerTask/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerTask/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HuntazeOfStack/BrowserWorkerTask/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerTask/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["BrowserWorkerLogs87663EC0","Arn"]}}],"Version":"2012-10-17"},"policyName":"BrowserWorkerTaskExecutionRoleDefaultPolicy0F449908","roles":[{"Ref":"BrowserWorkerTaskExecutionRole51F82989"}]}}}}}}}}},"BrowserWorkerLogs":{"id":"BrowserWorkerLogs","path":"HuntazeOfStack/BrowserWorkerLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/BrowserWorkerLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/huntaze/of/browser-worker","retentionInDays":7}}}}},"SendWorker":{"id":"SendWorker","path":"HuntazeOfStack/SendWorker","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.219.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"HuntazeOfStack/SendWorker/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.219.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"HuntazeOfStack/SendWorker/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/SendWorker/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HuntazeOfStack/SendWorker/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/SendWorker/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Sessions8896A56D","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Messages804FA4EB","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OfSendQueue3961ABF3","Arn"]}},{"Action":["ecs:RunTask","iam:PassRole"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"SendWorkerServiceRoleDefaultPolicyFE3FF264","roles":[{"Ref":"SendWorkerServiceRole4B5EF651"}]}}}}}}},"Code":{"id":"Code","path":"HuntazeOfStack/SendWorker/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.219.0"},"children":{"Stage":{"id":"Stage","path":"HuntazeOfStack/SendWorker/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.219.0"}},"AssetBucket":{"id":"AssetBucket","path":"HuntazeOfStack/SendWorker/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.219.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"HuntazeOfStack/SendWorker/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-ofq1abcde-assets-317805897534-us-east-1","s3Key":"a9fdc0073b4ef6bcbfcd590bba00c3cd0668bcc4d0dd36c51014560113f5ae72.zip"},"environment":{"variables":{"OF_ECS_CLUSTER_ARN":{"Fn::GetAtt":["OfClusterA7E617DB","Arn"]},"OF_ECS_TASKDEF_ARN":{"Ref":"BrowserWorkerTask01044B0A"},"OF_VPC_SUBNETS":{"Fn::Join":["",[{"Ref":"WorkerVpcPublicSubnet1Subnet549B8620"},",",{"Ref":"WorkerVpcPublicSubnet2Subnet4C3F610E"}]]},"OF_TASK_SG_ID":{"Fn::GetAtt":["OfTaskSgC92CC608","GroupId"]},"OF_DDB_SESSIONS_TABLE":{"Ref":"Sessions8896A56D"},"OF_DDB_MESSAGES_TABLE":{"Ref":"Messages804FA4EB"},"OF_KMS_KEY_ID":{"Fn::GetAtt":["OfSessionsKmsKey8FE2B453","Arn"]},"APP_ORIGIN":"https://app.huntaze.com","WORKER_TOKEN":""}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["SendWorkerServiceRole4B5EF651","Arn"]},"runtime":"nodejs18.x","timeout":30}}},"SqsEventSource:HuntazeOfStackOfSendQueue81EBCE1D":{"id":"SqsEventSource:HuntazeOfStackOfSendQueue81EBCE1D","path":"HuntazeOfStack/SendWorker/SqsEventSource:HuntazeOfStackOfSendQueue81EBCE1D","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/SendWorker/SqsEventSource:HuntazeOfStackOfSendQueue81EBCE1D/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":10,"eventSourceArn":{"Fn::GetAtt":["OfSendQueue3961ABF3","Arn"]},"functionName":{"Ref":"SendWorkerC9B374FE"},"functionResponseTypes":["ReportBatchItemFailures"],"scalingConfig":{"maximumConcurrency":10}}}}}}}},"SyncDispatcher":{"id":"SyncDispatcher","path":"HuntazeOfStack/SyncDispatcher","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.219.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"HuntazeOfStack/SyncDispatcher/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.219.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"HuntazeOfStack/SyncDispatcher/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/SyncDispatcher/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HuntazeOfStack/SyncDispatcher/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/SyncDispatcher/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Sessions8896A56D","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["ecs:RunTask","iam:PassRole"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"SyncDispatcherServiceRoleDefaultPolicy794664EB","roles":[{"Ref":"SyncDispatcherServiceRole3EB2A9AD"}]}}}}}}},"Code":{"id":"Code","path":"HuntazeOfStack/SyncDispatcher/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.219.0"},"children":{"Stage":{"id":"Stage","path":"HuntazeOfStack/SyncDispatcher/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.219.0"}},"AssetBucket":{"id":"AssetBucket","path":"HuntazeOfStack/SyncDispatcher/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.219.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"HuntazeOfStack/SyncDispatcher/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-ofq1abcde-assets-317805897534-us-east-1","s3Key":"89e27704bd605f9db98b916335432563acc4ab85767df02c4058fb72368bbe00.zip"},"environment":{"variables":{"OF_ECS_CLUSTER_ARN":{"Fn::GetAtt":["OfClusterA7E617DB","Arn"]},"OF_ECS_TASKDEF_ARN":{"Ref":"BrowserWorkerTask01044B0A"},"OF_VPC_SUBNETS":{"Fn::Join":["",[{"Ref":"WorkerVpcPublicSubnet1Subnet549B8620"},",",{"Ref":"WorkerVpcPublicSubnet2Subnet4C3F610E"}]]},"OF_TASK_SG_ID":{"Fn::GetAtt":["OfTaskSgC92CC608","GroupId"]},"OF_DDB_SESSIONS_TABLE":{"Ref":"Sessions8896A56D"},"OF_DDB_MESSAGES_TABLE":{"Ref":"Messages804FA4EB"},"OF_KMS_KEY_ID":{"Fn::GetAtt":["OfSessionsKmsKey8FE2B453","Arn"]},"APP_ORIGIN":"https://app.huntaze.com","WORKER_TOKEN":""}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["SyncDispatcherServiceRole3EB2A9AD","Arn"]},"runtime":"nodejs18.x","timeout":60}}}}},"AlertsTopic":{"id":"AlertsTopic","path":"HuntazeOfStack/AlertsTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.TopicBase","version":"2.219.0","metadata":[]}},"OFLoginFailuresGt5":{"id":"OFLoginFailuresGt5","path":"HuntazeOfStack/OFLoginFailuresGt5","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OFLoginFailuresGt5/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":["arn:aws:sns:us-east-1:317805897534:alerts"],"alarmDescription":"OF login failures > 5 in the last hour","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metricName":"LoginFailures","namespace":"Huntaze/OFWorker","period":3600,"statistic":"Sum","threshold":5,"treatMissingData":"notBreaching"}}}}},"OFMemoryUsageHigh":{"id":"OFMemoryUsageHigh","path":"HuntazeOfStack/OFMemoryUsageHigh","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OFMemoryUsageHigh/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":["arn:aws:sns:us-east-1:317805897534:alerts"],"alarmDescription":"OF worker memory usage over 7000 MB","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metricName":"MemoryUsageMB","namespace":"Huntaze/OFWorker","period":300,"statistic":"Maximum","threshold":7000,"treatMissingData":"notBreaching"}}}}},"OFWorkerDashboard":{"id":"OFWorkerDashboard","path":"HuntazeOfStack/OFWorkerDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OFWorkerDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Login Success/Failure (per 5m)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"Huntaze/OFWorker\",\"LoginSuccessCount\",{\"stat\":\"Sum\"}],[\"Huntaze/OFWorker\",\"LoginFailureCount\",{\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Action Duration (ms)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"Huntaze/OFWorker\",\"ActionDurationMs\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":24,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Session Duration (ms) & Memory (MB)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"Huntaze/OFWorker\",\"SessionDurationMs\"],[\"Huntaze/OFWorker\",\"MemoryUsageMB\",{\"stat\":\"Maximum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"HuntazeOfStack-OFWorker"}}}}},"SendQueueUrl":{"id":"SendQueueUrl","path":"HuntazeOfStack/SendQueueUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"SessionsTable":{"id":"SessionsTable","path":"HuntazeOfStack/SessionsTable","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"MessagesTable":{"id":"MessagesTable","path":"HuntazeOfStack/MessagesTable","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"ThreadsTable":{"id":"ThreadsTable","path":"HuntazeOfStack/ThreadsTable","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"KmsKeyArn":{"id":"KmsKeyArn","path":"HuntazeOfStack/KmsKeyArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"ClusterArn":{"id":"ClusterArn","path":"HuntazeOfStack/ClusterArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"TaskDefArn":{"id":"TaskDefArn","path":"HuntazeOfStack/TaskDefArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"TaskSecurityGroup":{"id":"TaskSecurityGroup","path":"HuntazeOfStack/TaskSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"WorkerSubnetsPublic":{"id":"WorkerSubnetsPublic","path":"HuntazeOfStack/WorkerSubnetsPublic","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.219.0"}},"OfClusterArnParam":{"id":"OfClusterArnParam","path":"HuntazeOfStack/OfClusterArnParam","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.AwsCustomResource","version":"2.219.0"},"children":{"Provider":{"id":"Provider","path":"HuntazeOfStack/OfClusterArnParam/Provider","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/OfClusterArnParam/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.219.0","metadata":[]},"children":{"Default":{"id":"Default","path":"HuntazeOfStack/OfClusterArnParam/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.219.0"}}}},"CustomResourcePolicy":{"id":"CustomResourcePolicy","path":"HuntazeOfStack/OfClusterArnParam/CustomResourcePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfClusterArnParam/CustomResourcePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"ssm:PutParameter","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"OfClusterArnParamCustomResourcePolicy5D44E118","roles":[{"Ref":"AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"}]}}}}}}},"AWS679f53fac002430cb0da5b7982bd2287":{"id":"AWS679f53fac002430cb0da5b7982bd2287","path":"HuntazeOfStack/AWS679f53fac002430cb0da5b7982bd2287","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.219.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"HuntazeOfStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.219.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"HuntazeOfStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"HuntazeOfStack/AWS679f53fac002430cb0da5b7982bd2287/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.219.0"},"children":{"Stage":{"id":"Stage","path":"HuntazeOfStack/AWS679f53fac002430cb0da5b7982bd2287/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.219.0"}},"AssetBucket":{"id":"AssetBucket","path":"HuntazeOfStack/AWS679f53fac002430cb0da5b7982bd2287/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.219.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"HuntazeOfStack/AWS679f53fac002430cb0da5b7982bd2287/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-ofq1abcde-assets-317805897534-us-east-1","s3Key":"34a66902956b031404ef497526f619b900363fe7fd65ff02b1de4c30fe10c034.zip"},"handler":"index.handler","role":{"Fn::GetAtt":["AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2","Arn"]},"runtime":"nodejs22.x","timeout":120}}}}},"OfTaskDefArnParam":{"id":"OfTaskDefArnParam","path":"HuntazeOfStack/OfTaskDefArnParam","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.AwsCustomResource","version":"2.219.0"},"children":{"Provider":{"id":"Provider","path":"HuntazeOfStack/OfTaskDefArnParam/Provider","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/OfTaskDefArnParam/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.219.0","metadata":[]},"children":{"Default":{"id":"Default","path":"HuntazeOfStack/OfTaskDefArnParam/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.219.0"}}}},"CustomResourcePolicy":{"id":"CustomResourcePolicy","path":"HuntazeOfStack/OfTaskDefArnParam/CustomResourcePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfTaskDefArnParam/CustomResourcePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"ssm:PutParameter","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"OfTaskDefArnParamCustomResourcePolicyF19A890D","roles":[{"Ref":"AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"}]}}}}}}},"OfSubnetsParam":{"id":"OfSubnetsParam","path":"HuntazeOfStack/OfSubnetsParam","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.AwsCustomResource","version":"2.219.0"},"children":{"Provider":{"id":"Provider","path":"HuntazeOfStack/OfSubnetsParam/Provider","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSubnetsParam/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.219.0","metadata":[]},"children":{"Default":{"id":"Default","path":"HuntazeOfStack/OfSubnetsParam/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.219.0"}}}},"CustomResourcePolicy":{"id":"CustomResourcePolicy","path":"HuntazeOfStack/OfSubnetsParam/CustomResourcePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSubnetsParam/CustomResourcePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"ssm:PutParameter","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"OfSubnetsParamCustomResourcePolicyF65BD5EA","roles":[{"Ref":"AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"}]}}}}}}},"OfSecurityGroupParam":{"id":"OfSecurityGroupParam","path":"HuntazeOfStack/OfSecurityGroupParam","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.AwsCustomResource","version":"2.219.0"},"children":{"Provider":{"id":"Provider","path":"HuntazeOfStack/OfSecurityGroupParam/Provider","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSecurityGroupParam/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.219.0","metadata":[]},"children":{"Default":{"id":"Default","path":"HuntazeOfStack/OfSecurityGroupParam/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.219.0"}}}},"CustomResourcePolicy":{"id":"CustomResourcePolicy","path":"HuntazeOfStack/OfSecurityGroupParam/CustomResourcePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfSecurityGroupParam/CustomResourcePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"ssm:PutParameter","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"OfSecurityGroupParamCustomResourcePolicyC29242D7","roles":[{"Ref":"AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"}]}}}}}}},"OfUserIdsParam":{"id":"OfUserIdsParam","path":"HuntazeOfStack/OfUserIdsParam","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.AwsCustomResource","version":"2.219.0"},"children":{"Provider":{"id":"Provider","path":"HuntazeOfStack/OfUserIdsParam/Provider","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.219.0","metadata":[]}},"Resource":{"id":"Resource","path":"HuntazeOfStack/OfUserIdsParam/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.219.0","metadata":[]},"children":{"Default":{"id":"Default","path":"HuntazeOfStack/OfUserIdsParam/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.219.0"}}}},"CustomResourcePolicy":{"id":"CustomResourcePolicy","path":"HuntazeOfStack/OfUserIdsParam/CustomResourcePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.219.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HuntazeOfStack/OfUserIdsParam/CustomResourcePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.219.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"ssm:PutParameter","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"OfUserIdsParamCustomResourcePolicy9103C6C0","roles":[{"Ref":"AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"}]}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"HuntazeOfStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"HuntazeOfStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.219.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HuntazeOfStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.219.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HuntazeOfStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.219.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}