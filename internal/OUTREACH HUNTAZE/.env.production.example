# =====================================================
# HUNTAZE OUTREACH SYSTEM - PRODUCTION ENVIRONMENT
# =====================================================
# ⚠️  COPY TO .env AND FILL ALL VALUES
# ⚠️  NEVER COMMIT ACTUAL SECRETS TO GIT
# =====================================================

# ====================
# SYSTEM CONFIGURATION
# ====================
NODE_ENV=production
LOG_LEVEL=info
SERVICE_NAME=huntaze-outreach

# ====================
# DATABASE (Separate from main app)
# ====================
DATABASE_URL=postgresql://outreach_prod:STRONG_PASSWORD@your-db-host:5432/huntaze_outreach?sslmode=require

# ====================
# REDIS (Can share with main app)
# ====================
REDIS_URL=redis://:YOUR_REDIS_PASSWORD@your-redis-host:6379
REDIS_TLS=true

# ====================
# MESSAGE QUEUE (RabbitMQ)
# ====================
RABBITMQ_URL=amqp://huntaze:RABBITMQ_PASSWORD@your-rabbitmq-host:5672/huntaze
RABBITMQ_PREFETCH=2

# ====================
# INSTAGRAM AUTOMATION
# ====================
# Paths and Configuration
IG_DM_PATH=/app/ig-dm-ui
MAX_CONCURRENT_ACCOUNTS=10
DAILY_QUOTA_PER_ACCOUNT=60
RATE_LIMIT_WINDOW=3600000

# Account Rotation
MIN_ACCOUNT_COOLDOWN=7200000  # 2 hours in ms
MAX_MESSAGES_PER_SESSION=20

# ====================
# SCRAPING SERVICE (Apify)
# ====================
APIFY_TOKEN=apify_api_YOUR_TOKEN_HERE
APIFY_ACTOR_ID=apify/instagram-scraper

# Alternative: Bright Data
# BRIGHT_DATA_CUSTOMER_ID=YOUR_CUSTOMER_ID
# BRIGHT_DATA_PASSWORD=YOUR_PASSWORD
# BRIGHT_DATA_ZONE=instagram

# ====================
# PROXY CONFIGURATION
# ====================
# Residential proxies recommended
PROXY_PROVIDER=brightdata  # or webshare, smartproxy
PROXY_USERNAME=YOUR_PROXY_USERNAME
PROXY_PASSWORD=YOUR_PROXY_PASSWORD
PROXY_ENDPOINT=zproxy.lum-superproxy.io:22225

# Proxy rotation
PROXY_ROTATION_ENABLED=true
PROXY_ROTATION_INTERVAL=300000  # 5 minutes

# ====================
# AI INTEGRATION (Shared with main app)
# ====================
AZURE_OPENAI_ENDPOINT=https://YOUR-RESOURCE.openai.azure.com/
AZURE_OPENAI_API_KEY=YOUR_AZURE_KEY
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# For message generation
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=150

# ====================
# SECURITY (Shared with main app)
# ====================
JWT_SECRET=SAME_AS_MAIN_APP_JWT_SECRET
ENCRYPTION_KEY=SAME_32_CHAR_KEY_AS_MAIN_APP___

# Instagram credentials encryption
IG_CREDENTIALS_ENCRYPTION_KEY=DIFFERENT_32_CHAR_KEY_FOR_IG___

# ====================
# MONITORING
# ====================
# Prometheus metrics
PROMETHEUS_PORT=9090
METRICS_PATH=/metrics

# Grafana (optional)
GRAFANA_ENDPOINT=http://your-grafana:3000
GRAFANA_API_KEY=YOUR_GRAFANA_API_KEY

# ====================
# RATE LIMITING & QUOTAS
# ====================
# Per account limits
HOURLY_MESSAGE_LIMIT=10
DAILY_MESSAGE_LIMIT=60
WEEKLY_MESSAGE_LIMIT=300

# Global limits
GLOBAL_HOURLY_LIMIT=500
GLOBAL_DAILY_LIMIT=2000

# ====================
# WEBHOOK NOTIFICATIONS
# ====================
# Main app webhook
MAIN_APP_WEBHOOK_URL=https://app.huntaze.com/api/webhooks/outreach
MAIN_APP_WEBHOOK_SECRET=SHARED_WEBHOOK_SECRET

# Slack alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_THRESHOLD_ERRORS=10
ALERT_THRESHOLD_RATE_LIMIT=0.8

# ====================
# INSTAGRAM ACCOUNTS
# ====================
# Path to encrypted accounts file
INSTAGRAM_ACCOUNTS_FILE=/secrets/instagram-accounts.json
ACCOUNTS_ENCRYPTION_KEY=SEPARATE_32_CHAR_KEY___________

# Account health checks
ACCOUNT_HEALTH_CHECK_INTERVAL=3600000  # 1 hour
ACCOUNT_SUSPENSION_THRESHOLD=3  # Failed attempts before marking suspended

# ====================
# QUEUE WORKERS
# ====================
# Discovery worker
DISCOVERY_WORKER_CONCURRENCY=2
DISCOVERY_BATCH_SIZE=50

# DM dispatcher
DM_WORKER_CONCURRENCY=5
DM_RETRY_ATTEMPTS=3
DM_RETRY_DELAY=5000

# Response monitor
RESPONSE_CHECK_INTERVAL=300000  # 5 minutes
RESPONSE_BATCH_SIZE=100

# ====================
# DATA RETENTION
# ====================
MESSAGE_RETENTION_DAYS=90
ANALYTICS_RETENTION_DAYS=365
LOG_RETENTION_DAYS=30

# ====================
# PERFORMANCE TUNING
# ====================
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_IDLE_TIMEOUT=60000

REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# ====================
# DEPLOYMENT
# ====================
DEPLOYMENT_ENV=production
DEPLOYMENT_REGION=us-east-1
SERVICE_PORT=3002

# Health check
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000

# ====================
# FEATURE FLAGS
# ====================
FEATURE_AUTO_FOLLOWUP=true
FEATURE_SMART_SCHEDULING=true
FEATURE_AB_TESTING=true
FEATURE_CONVERSATION_MEMORY=true

# ====================
# END OF CONFIGURATION
# ====================
# Setup checklist:
# 1. Set up separate PostgreSQL database
# 2. Configure RabbitMQ with management plugin
# 3. Obtain Instagram accounts (10+ recommended)
# 4. Set up residential proxies
# 5. Configure Apify or scraping service
# 6. Set up monitoring dashboards
# 7. Test rate limits thoroughly
# 8. Configure alerts and notifications